<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" template="template/master.xhtml">

	<ui:define name="title">
		<title>Get Info</title>
	</ui:define>

	<ui:define name="content">

		<h:form id="form">
			<br /><br />
			<fieldset id="fieldset" style="margin-bottom: 20px; align: right;">
				<legend style="font-size: 20px; color: #04003A; font-weight: bold;">Get Info</legend>
				<br />
				<h:messages style="color:#0040FF;" />

				<p:dataTable var="tourPackage" value="#{getInfoBean.tourPackages}"
					widgetVar="tourPackagesTable"
					emptyMessage="No tour packages found with given criteria" rows="4"
					paginator="true" paginatorPosition="top">

					<f:facet name="header">
						<p:outputPanel>
							<h:outputText value="Search all fields in package:" />
							<p:inputText id="globalFilter"
								onkeyup="PF('tourPackagesTable').filter()" style="width:150px"
								placeholder="Enter keyword" />
						</p:outputPanel>
					</f:facet>
					<p:column filterBy="#{tourPackage.tourCode}" headerText="Tour Code"
						filterMatchMode="contains">
						<h:outputText value="#{tourPackage.tourCode}" />
					</p:column>
					<p:column filterBy="#{tourPackage.vehicleNumberPlate}"
						headerText="Vehicle Number Plate" filterMatchMode="contains">
						<h:outputText value="#{tourPackage.vehicleNumberPlate}" />
					</p:column>
					<p:column filterBy="#{tourPackage.tourDate}" headerText="Tour Date"
						filterMatchMode="contains">
						<h:outputText value="#{tourPackage.tourDate}" />
					</p:column>
					<p:column filterBy="#{tourPackage.departFrom}"
						headerText="Depart from" filterMatchMode="contains">
						<h:outputText value="#{tourPackage.departFrom}" />
					</p:column>
					<p:column filterBy="#{tourPackage.detination}"
						headerText="Destination" filterMatchMode="contains">
						<h:outputText value="#{tourPackage.detination}" />
					</p:column>
					<p:column headerText="Travelers in package (ID)">

						<h:selectOneMenu
							value="#{tourSalesDetailsBean.selectedTourPackageID}">
							<f:selectItems value="#{tourPackage.travelers}" var="traveler"
								itemLabel="#{traveler.ID}" itemValue="#{traveler.ID}" />
						</h:selectOneMenu>
					</p:column>

				</p:dataTable>


				<br /> <br />



				<p:dataTable var="traveler" value="#{getInfoBean.travelers}"
					widgetVar="travelersTable"
					emptyMessage="No travelers found with given criteria" rows="4"
					paginator="true" paginatorPosition="top">

					<f:facet name="header">
						<p:outputPanel>
							<h:outputText value="Search all fields in Travellers:" />
							<p:inputText id="globalFilter"
								onkeyup="PF('travelersTable').filter()" style="width:150px"
								placeholder="Enter keyword" />
						</p:outputPanel>
					</f:facet>
					<p:column filterBy="#{traveler.firstName}" headerText="First Name"
						filterMatchMode="contains">
						<h:outputText value="#{traveler.firstName}" />
					</p:column>
					<p:column filterBy="#{traveler.lastName}" headerText="Last Name"
						filterMatchMode="contains">
						<h:outputText value="#{traveler.lastName}" />
					</p:column>
					<p:column filterBy="#{traveler.residentialAddress}"
						headerText="Residential Address" filterMatchMode="contains">
						<h:outputText value="#{traveler.residentialAddress}" />
					</p:column>
					<p:column filterBy="#{traveler.contactTelephone}"
						headerText="Contact Telephone" filterMatchMode="contains">
						<h:outputText value="#{traveler.contactTelephone}" />
					</p:column>
					<p:column filterBy="#{traveler.emailAddress}"
						headerText="Email Address" filterMatchMode="contains">
						<h:outputText value="#{traveler.emailAddress}" />
					</p:column>
				</p:dataTable>

			</fieldset>
		</h:form>

	</ui:define>

</ui:composition>
